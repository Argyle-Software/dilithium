# Release Checklist

`VERSION=v0.0.0`

1. New branch `git checkout -b release_$VERSION`

2. Bump any dependencies in **Cargo.toml**

3. Run tests:
    ```bash
    ./tests/test_matrix.sh;
    ./tests/wasm.js;
    ``` 

4. Bump version in **Cargo.toml** 

5. Update **changelog.md**

6. `cargo fmt`

7. `wasm-pack build -- --features wasm`

8. Fix autogenerated **pkg/package.json**: 
    * name - Replace *pqc_dilithium* with *pqc-dilithium* 
    * description - Revert line back to old description

9. `git commit -a -m "release $VERSION"`

10. `git tag $VERSION -m "Version release"`

11. `git push --atomic origin release_$VERSION $VERSION`

12. Open PR to master, confirm all CI checks pass, merge PR

13. `cargo publish`

14. `npm publish`

15. `git checkout master && git branch -d release_$VERSION`

